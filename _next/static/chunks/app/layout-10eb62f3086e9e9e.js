(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3698:function(e,r,o){Promise.resolve().then(o.bind(o,6281)),Promise.resolve().then(o.t.bind(o,911,23)),Promise.resolve().then(o.t.bind(o,7960,23))},6281:function(e,r,o){"use strict";o.d(r,{AuthProvider:function(){return l},a:function(){return c}});var n=o(7437),t=o(2265),i=o(4114);let a=(0,t.createContext)({user:null,loading:!0,isAuthenticated:!1});function l(e){let{children:r}=e,[o,l]=(0,t.useState)(null),[c,s]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{let e=(0,i.yv)(e=>{l(e),s(!1)});return()=>e()},[]),(0,n.jsx)(a.Provider,{value:{user:o,loading:c,isAuthenticated:!!o},children:r})}function c(){let e=(0,t.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4114:function(e,r,o){"use strict";o.d(r,{Ew:function(){return l},OA:function(){return c},qD:function(){return s},w7:function(){return u},yv:function(){return d}});var n=o(3301),t=o(4257),i=o(4421);function a(){let e=t.I8;if(e||(e=(0,t.v0)()),!e)throw Error("Firebase auth is not initialized. Please refresh the page and try again.");return e}function l(){var e,r,o,t,i,l,c;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"recaptcha-container",u=a();if(!u||!u.app)throw Error("Firebase Auth instance is not properly initialized");let d=window.recaptchaVerifier;if(d)try{d&&"function"==typeof d.clear&&(d.clear(),console.log("Cleared existing reCAPTCHA verifier"))}catch(e){(null==e?void 0:e.code)!=="auth/internal-error"&&console.warn("Error clearing existing reCAPTCHA verifier:",e)}finally{delete window.recaptchaVerifier}if(!document.getElementById(s)){let e=document.createElement("div");e.id=s,e.style.display="none",document.body.appendChild(e)}try{console.log("Creating RecaptchaVerifier with auth instance:",{appName:u.app.name,projectId:u.app.options.projectId,apiKey:(null===(e=u.app.options.apiKey)||void 0===e?void 0:e.substring(0,10))+"...",authDomain:u.app.options.authDomain});let r=new n.lI(u,s,{size:"invisible",callback:()=>{console.log("reCAPTCHA verified")},"expired-callback":()=>{console.error("reCAPTCHA expired")}});return window.recaptchaVerifier=r,console.log("RecaptchaVerifier created successfully for app:",u.app.name),r}catch(e){throw console.error("Error creating RecaptchaVerifier:",e),console.error("Auth instance details:",{exists:!!u,appName:null==u?void 0:null===(r=u.app)||void 0===r?void 0:r.name,projectId:null==u?void 0:null===(t=u.app)||void 0===t?void 0:null===(o=t.options)||void 0===o?void 0:o.projectId,apiKey:(null==u?void 0:null===(c=u.app)||void 0===c?void 0:null===(l=c.options)||void 0===l?void 0:null===(i=l.apiKey)||void 0===i?void 0:i.substring(0,10))+"..."}),Error("Failed to initialize reCAPTCHA: ".concat(e.message||"Unknown error"))}}async function c(e,r){var o,t,i,l,c,s;try{let t=a();if(!t||!t.app)throw Error("Firebase Auth is not properly initialized");console.log("\uD83D\uDCE4 Sending OTP with auth instance:",{appName:t.app.name,projectId:t.app.options.projectId,apiKey:(null===(o=t.app.options.apiKey)||void 0===o?void 0:o.substring(0,20))+"...",authDomain:t.app.options.authDomain,storageBucket:t.app.options.storageBucket,phoneNumber:e});let i="AIzaSyC4SqbxwKCJmUBNKt85UwEJgNnep9t7qOY";if(t.app.options.apiKey!==i)throw console.error("❌ API KEY MISMATCH!"),console.error("Expected:",i),console.error("Got:",t.app.options.apiKey),Error("API key mismatch detected. Please clear browser cache and refresh.");console.log("✅ API key verified, proceeding with OTP send...");let l=await (0,n.$g)(t,e,r);return console.log("OTP sent successfully"),l}catch(e){if(console.error("Error sending OTP:",e),console.error("Error code:",e.code),console.error("Error message:",e.message),console.error("Auth instance at error:",{appName:null===(i=a())||void 0===i?void 0:null===(t=i.app)||void 0===t?void 0:t.name,projectId:null===(s=a())||void 0===s?void 0:null===(c=s.app)||void 0===c?void 0:null===(l=c.options)||void 0===l?void 0:l.projectId}),"auth/invalid-app-credential"===e.code)throw Error("Firebase configuration error. Please verify:\n1. API key matches Firebase project\n2. Phone Authentication is enabled\n3. Authorized domains include localhost\n4. Try refreshing the page");if("auth/too-many-requests"===e.code)throw Error("Too many requests. Please wait a moment and try again.");if("auth/invalid-phone-number"===e.code)throw Error("Invalid phone number format. Please enter a valid 10-digit mobile number.");if("auth/quota-exceeded"===e.code)throw Error("SMS quota exceeded. Please try again later.");throw Error(e.message||"Failed to send OTP. Please try again.")}}async function s(e,r){try{let o=(await e.confirm(r)).user;return o.phoneNumber&&await (0,i.XB)(o.uid,{id:o.uid,phone:o.phoneNumber}),o}catch(e){throw console.error("Error verifying OTP:",e),Error(e.message||"Invalid OTP code")}}async function u(){try{let e=a();await (0,n.w7)(e)}catch(e){throw console.error("Error signing out:",e),Error(e.message||"Failed to sign out")}}function d(e){try{let r=a();return(0,n.Aj)(r,e)}catch(e){return()=>{}}}},7960:function(){},911:function(e){e.exports={style:{fontFamily:"'__Inter_97ad1a', '__Inter_Fallback_97ad1a'",fontStyle:"normal"},className:"__className_97ad1a"}}},function(e){e.O(0,[944,358,139,943,421,971,117,744],function(){return e(e.s=3698)}),_N_E=e.O()}]);