(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[502],{2003:function(e,t,a){Promise.resolve().then(a.bind(a,3853))},3853:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var r=a(7437),s=a(2265),n=a(1344),i=a(429),l=a(9376),c=a(2660),o=a(3247),d=a(7648);let m={cameras:"DSLR",phones:"Phone",laptops:"Laptop",tablets:"iPad/Tablet"},u={cameras:["Canon","Fujifilm","GoPro","Nikon","Sony"],phones:["Apple","Samsung"],laptops:["Apple"],tablets:["Apple"]};function x(){let e=(0,l.useSearchParams)(),t=(0,l.useRouter)(),a=e.get("category")||"cameras",[n,x]=(0,s.useState)([]),[h,p]=(0,s.useState)([]),[b,y]=(0,s.useState)([]),[f,g]=(0,s.useState)(""),[j,N]=(0,s.useState)(!0),[v,w]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{N(!0),w(null);try{let e=await fetch("/api/devices?category=".concat(a));if(e.ok){let t=(await e.json()).devices||[];if(x(t),t.length>0){let e=Array.from(new Set(t.map(e=>e.brand))).sort();p(e),y(e),N(!1);return}}}catch(e){console.log("API fetch failed, using static brands")}let e=u[a]||[];p(e),y(e)}catch(t){let e=u[a]||[];p(e),y(e)}finally{N(!1)}})()},[a]),(0,s.useEffect)(()=>{""===f.trim()?y(h):y(h.filter(e=>e.toLowerCase().includes(f.toLowerCase())))},[f,h]);let S=e=>{t.push("/products?category=".concat(a,"&brand=").concat(encodeURIComponent(e)))},k=m[a]||a.charAt(0).toUpperCase()+a.slice(1);return j?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center pt-20",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 border-4 border-brand-lime border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading brands..."})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-lime-50 py-8 md:py-12 px-4 pt-24 md:pt-28",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8 md:mb-12",children:[(0,r.jsxs)(d.default,{href:"/",className:"inline-flex items-center gap-2 text-gray-600 hover:text-brand-blue-900 mb-6 transition-colors px-4 py-2 bg-white rounded-lg border border-gray-200 shadow-sm",children:[(0,r.jsx)(c.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Back to Categories"})]}),(0,r.jsxs)("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-brand-blue-900 mb-2",children:["Select ",k," Brand"]}),(0,r.jsx)("p",{className:"text-gray-600 text-lg",children:"Choose the brand of your device to continue"})]}),(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-8",children:(0,r.jsxs)("div",{className:"relative max-w-md mx-auto md:mx-0",children:[(0,r.jsx)(o.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{type:"text",value:f,onChange:e=>g(e.target.value),placeholder:"Search for a brand",className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-brand-lime focus:ring-4 focus:ring-brand-lime/20 text-gray-900 bg-white shadow-sm"})]})}),b.length>0&&(0,r.jsx)(i.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},className:"text-gray-600 mb-6 font-medium",children:"Or choose a brand"}),b.length>0?(0,r.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6",children:b.map((e,t)=>(0,r.jsxs)(i.E.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1*t,duration:.3},onClick:()=>S(e),className:"p-6 md:p-8 bg-white border-2 border-gray-200 rounded-2xl hover:border-brand-lime hover:shadow-lg transition-all text-center group",children:[(0,r.jsx)("div",{className:"text-2xl md:text-3xl font-bold text-brand-blue-900 group-hover:text-brand-lime transition-colors mb-2",children:e}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e})]},e))}):(0,r.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:f?"No brands found matching your search.":"No brands available for this category."}),f&&(0,r.jsx)("button",{onClick:()=>g(""),className:"text-brand-lime hover:text-brand-lime-400 font-semibold",children:"Clear search"})]})]})})}function h(){return(0,r.jsx)(x,{})}function p(){return(0,r.jsxs)("main",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(n.default,{}),(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-gray-600",children:"Loading..."})}),children:(0,r.jsx)(h,{})})]})}},2660:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3247:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},function(e){e.O(0,[358,139,943,724,421,344,971,117,744],function(){return e(e.s=2003)}),_N_E=e.O()}]);